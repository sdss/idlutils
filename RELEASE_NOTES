
ADJUST_ERROR: New proc.
ASINH2: Trig function; moved from vagc product.
ASTROM_ENGINE: Fix print statement for "XSHIFT:".
CIRCLE_CAP: Conform to new RA,DEC inputs.
COMDIST2: New proc to compute comoving line-of-sight distances.
CONSTRUCT_POLYGON, READ_MANGLE_POLYGONS: Cleaner memory.
DJS_PHOT,DJS_PHOTSKY,EXACT_PHOTFRAC: Add support for calling the sinc-shift
               "exact" photometry that Lupton uses in PHOTO.  This algorithm
               is called if the /EXACT keyword is set.
FIRST_READ,FIRST_COVERAGE: New functions for reading the FIRST radio survey
               data files.
GVERTS: Fix a loop variable that should have been type long.
        Move from mangle version 1.2 to mangle version 1.4.
IS_IN_CAP,IS_IN_POLYGON,IS_IN_WINDOW: Change calling sequence, with
               ra=,dec=,xyz= instead of assuming xyz is passed.
LOGSUM: Small bug fix.
MWRFITS_CHUNKS: Small changes to internal proc MWRBIN_APPEND to allow
               support for files larger than 2 Gb.
               Free all logical units (LUNs), which was not the case.
               We were not freeing one LUN for each time this routine
               was called.
POLYGON_OVERLAP - Blanton changed the usage?
SET_USE_CAPS: Output use_caps separately too.
SPLOT - Fix to address PR #5468, where the IDL system variable !p.position
               is left in a bad state that does not allow the use of !p.multi
               in other plot windows.  The fix is to always make sure that
               !p.position is reset to its previous value after any calls
               to SPLOT,SOPLOT,SXYOUTS.
               If in zoom mode, default to zooming/panning in X, or if shift
               button is pressed then zoom/pan in Y, or if ShiftLock, then
               zoom/pan in X+Y.
               Add SPOLYFILL command, analogous to POLYFILL.
               Make state.xrange,state.yrange,state.position double-precision
               to avoid some round-off problems.
               In the proc splot_autoscale_y, bug fix to set the correct
               limits even if the X plot range runs from big X to small X.
               Change MAXPLOT from 20 thousand to 100 thousand.  Maybe this
               should be changed dynamically rather than hard-wired??
               This now works for 16-bit color under the KDE window manager.
               Get rid of the bit of code that was supposed to make things
               work under 24-bit color, since it *didn't work on my Mac,
               which says it has 24-bit color.
TMASS_ASCII2FITS,TMASS_CONE,TMASS_DECSLICE,TMASS_FITS_FILES,
TMASS_READZONE,TMASS_REFORMAT_PSC,TMASS_STRUC:
               New procs for reading the 2MASS catalog.

bin/evilmake: Changed some of the flags so that C code libraries load
               properly on an IRIX64 machine (sdsshost.apo).  I got these
               flags from "idl_5.5/external/call_external/C/makefile".
               The changed flag values for IRIX64 are:
                 X_CFLAGS="-n32 -KPIC -mips3"
                 CC=cc
                 LD=ld
                 X_LD_FLAGS="-shared -n32 -mips3"
data/sdss/sdssMaskbits.par: Add CALIB_STATUS flag values.
               Add the "UNPLUGGED" value to the ZWARNING flag.
src/Makefile: Compile source code in "mangle1.4/src" instead of "mangle1.2".
src/image/idl_photfrac.c, p_cisi.c, p_midpnt.c, p_polint.c, p_qromo.c,
               p_utils.c, ph.h, photfrac.c, test_photfrac.c:
               New tools added by Blanton for band-limited aperature
               photometry (as done by Lupton in PHOTO).
src/mangle1.2/Makefile: For "make install", copy the source code into
               the install directory.  This isn't necessary, but we
               conventionally do it anyway.
src/mangle1.2/mrb_balkanize.c, mwrmask.c: Destroy the polygons as they
               stream out, so that we try to conserve total memory as
               the C outputs are read into the IDL code.
               Print a loop counter after every 100 balkans.
src/mangle1.4: All new source code imported by Blanton from Andrew Hamilton,
               replacing mangle1.2 files.
src/mangle1.4/mrb_balkanize.c: Clear memory usage when possible
               when assigning parents.
ups/idlutils.table: Add optional dependencies upon these products: dust,
               first, gsc, twomass, tycho2, ucac, usno.
               Get rid of all the $UPS_PROD_FLAVOR references for
               dependent products.

In the Goddard utitilies:
MRDFITS: Modified by Wayne Landsman to have the ROWS keyword.
               (See e-mail exchange with him on 24-Jul-2003).

-------------------------------------------------------------------------------
v4_10_4 (Jul 5, 2003)
Tagged for photoop v0_12.

MWRFITS_CHUNKS- Added /APPEND option.
UCAC_READGC - Check to see if outdat has any elements.
USNO_READGC - Check to see if outdat has any elements.

-------------------------------------------------------------------------------
v4_10_3 (Jun 27, 2003)
Tagged for photoop v0_10.

ATV          - Merged with Aaron Barth's version 1.4 (by Finkbeiner).
               Merged to include using SPLOT/SOPLOT instead of PLOT,
               use 5 digit pixel coords, some Healpix support (though
               the libraries are not yet in idlutils).
               Fink did not merge in support for reversed CTYPE values
               in FITS headers, e.g. DEC,RA instead of RA,DEC.
CAP_DISTANCE: New function, moved from photoop/RESOLVE_RUN_LOCAL.
GVERTS: Fix zero-area failure.
MUNU_TO_RADEC,RADEC_TO_MUNU: Computation of PHI now done properly in both
               routines, and done analytically rather than numerically.
               Before this, I at least had a correct numerical computation
               in MUNU_TO_RADEC.
src/mangle1.2/balkanize.c, harmonize.c, poly2poly.c, ransack.c,
               snap.c, unify.c - Fixed ransack bug where it wasn't
               checking for NULL polygons after throwing them away.

-------------------------------------------------------------------------------
v4_10_2 (Jun 20, 2003)
Tagged for photoop v0_9.  Make sure that mangle code builds.

data/sdss/sdssMaskbits.par: Add RESOLVE_STATUS flag, which probably
                deprecates the RESOLVE flag.
lib/Makefile: When installing, copy over *.a files and Makefile, not 
                that they're needed.
src/Makefile: Note that mangle1.2 must be built before idlmangle!
                This prevented the mangle code from building in v4_10_0,v4_10_1.
src/idlmangle/Makfile: Copy source code when installing, not that it's needed.

-------------------------------------------------------------------------------
v4_10_1 (Jun 18, 2003)
Tagged for photoop v0_9.  Also ATV bug fixes for IDL 5.5 and later.

ATV           - Call PSCONFIG instead of CMPS_FORM for making PostScript
                plots.  This change was necessary to work with IDL 5.5.
ATV_JOE_WRITEPS - Write a PostScript file of the current ATV display
                w/out using a widget
CROSSPROD     - New function to compute cross product of two vectors or
                arrays of vectors.
DJS_BATCH     - Fix bug introduced when SELECTHOST option was added.
FINDOPFILE    - This routine was hard-wired to a 5-digit MJD, but
                we need it to work for numbers with any number of digits.
                For example, for the photoop product, we use this routine
                to select from 6-digit run numbers (like for flat files).
FSC_DROPLIST,FSC_FIELD,FSC_FILESELECT,FSC_INPUTFIELD,FSC_PLOTWINDOW,
FSC_PSCONFIG__DEFINE,PSCONFIG - New routines downloaded from David Fanning
                for use with ATV.  Downloaded from:
                "http://www.dfanning.com/documents/programs.html#FSCPSCONFIG"
GROW_OBJECT   - New proc to identify objects as the contiguous non-zero pixels
                in an image.  This calls a C program.
TNMIN         - Two loop variables (lines 559 and 601) changed from "0"
                to "0L".
UCAC_READZONE - New function to read the raw UCAC data files for a specific
                declination zone within a given RA range.
USNO_READGC   - New proc to read the UCAC data files for a great circle
                on the sky, analogous to UCAC_READGC.
WCSXY2SPH     - Add HealCart projection.
YANNY_READ    - Don't crash when FILENAME is a 1-element array!
                The last step trims each structure to the actual number
                of elements.  Be sure to free memory from the untrimmed,
                unused pointers.
YANNY_READONE - Free pointers before returning.

bin/Makefile  - Take out "evilinstall" which has now moved to evilups product.
src/image/grow_obj.c - New code for IDL proc GROW_OBJECT.
src/math/nr.h - Comment-out line 93 which defines "float fmin(float x[]);".
               This conflicts with a definition in one of the include files
               under Mac OS X: "/usr/include/architecture/ppc/math.h".
               Note that we don't actually use the fmin() function anywhere
               in this directory anyway.
ups/Makefile - Get rid of the confusing dependency on
               $(SDSSTOOLS_DIR)/bin/install_ups_table.

In the Goddard utitilies:
MATCH         - Simple fix to allow this to work with scalar values.

-------------------------------------------------------------------------------
v4_10_0 (Mar 29, 2003)
Tagged for photoop v0_6, and includes updated Goddard libraries.

data/filters/Makefile - This file is no longer needed, since the Makefile
               one directory up takes care of copying these filter files.
pro/Makefile - This was missing several subdirectories.
goddard      - This library was brought up to the 2003-Mar-21 version
               of Landsman's library.  There were changes to 192 files
               in the past 14 months.

-------------------------------------------------------------------------------
v4_9_14 (Mar 25, 2003)
Tagged for photoop v0_5.

